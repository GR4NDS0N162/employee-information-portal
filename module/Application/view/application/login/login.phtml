<?php
/**
 * @var Laminas\View\Renderer\PhpRenderer $this
 * @var string $headTitleName
 * @var Application\Form\LoginForm $loginForm
 * @var Application\Form\SignUpForm $signupForm
 * @var Application\Form\RecoverForm $recoverForm
 */
?>
<?php $this->headTitle($headTitleName); ?>
<?php $this->headLink()
    ->appendStylesheet($this->basePath('css/login-signup-recover.css')); ?>
<?php $this->inlineScript()
    ->appendFile($this->basePath('js/validation.js'))
    ->appendFile($this->basePath('js/login-signup-recover.js')); ?>
<div class="card p-4"
     id="login-card">
    <h1 class="mb-3">Вход</h1>

    <?php $form = $loginForm; ?>
    <?php $form->prepare(); ?>

    <?= $this->form()->openTag($form) ?>
    <div class="col-12">
        <?php $element = $form->get('email'); ?>
        <div class="form-floating">
            <?= $this->formElement($element) ?>
            <?= $this->formLabel($element) ?>
        </div>
        <div class="invalid-feedback d-none"
             id="email-error-login"></div>
    </div>
    <div class="col-12">
        <?php $element = $form->get('password'); ?>
        <div class="form-floating">
            <?= $this->formElement($element) ?>
            <?= $this->formLabel($element) ?>
        </div>
        <div class="invalid-feedback d-none"
             id="password-error-login"></div>
    </div>
    <div class="col-12">
        <?php $element = $form->get('submit'); ?>
        <?= $this->formSubmit($element) ?>
    </div>
    <?= $this->form()->closeTag() ?>

    <div class="row gy-2">
        <div class="col-12">
            <span>Нет аккаунта?</span>
            <button class="p-0 border-0 bg-transparent text-success signup-show">Зарегистрироваться</button>
        </div>
        <div class="col-12">
            <span>Забыли пароль?</span>
            <button class="p-0 border-0 bg-transparent text-danger recover-show">Восстановить</button>
        </div>
    </div>
</div>
<div class="card p-4"
     id="signup-card">
    <h1 class="mb-3">Регистрация</h1>

    <?php $form = $signupForm; ?>
    <?php $form->prepare(); ?>

    <?= $this->form()->openTag($form) ?>
    <div class="col-12">
        <?php $element = $form->get('email'); ?>
        <div class="form-floating">
            <?= $this->formElement($element) ?>
            <?= $this->formLabel($element) ?>
        </div>
        <div class="invalid-feedback d-none"
             id="email-error-signup"></div>
    </div>
    <div class="col-12">
        <?php $element = $form->get('position'); ?>
        <div class="form-floating">
            <?= $this->formElement($element) ?>
            <?= $this->formLabel($element) ?>
        </div>
        <div class="invalid-feedback d-none"
             id="position-error-signup"></div>
    </div>
    <div class="col-12">
        <?php $element = $form->get('password'); ?>
        <div class="form-floating">
            <?= $this->formElement($element) ?>
            <?= $this->formLabel($element) ?>
        </div>
        <div class="invalid-feedback d-none"
             id="password-error-signup"></div>
    </div>
    <div class="col-12">
        <?php $element = $form->get('password-check'); ?>
        <div class="form-floating">
            <?= $this->formElement($element) ?>
            <?= $this->formLabel($element) ?>
        </div>
        <div class="invalid-feedback d-none"
             id="password-check-error-signup"></div>
    </div>
    <div class="col-12">
        <?php $element = $form->get('submit'); ?>
        <?= $this->formSubmit($element) ?>
    </div>
    <?= $this->form()->closeTag() ?>

    <div class="row gy-2">
        <div class="col-12">
            <span>Уже есть аккаунт?</span>
            <button class="p-0 border-0 bg-transparent text-primary login-show">Войти</button>
        </div>
    </div>
</div>
<div class="card p-4"
     id="recover-card">
    <h1 class="mb-3">Восстановление</h1>

    <?php $form = $recoverForm; ?>
    <?php $form->prepare(); ?>

    <?= $this->form()->openTag($form) ?>
    <div class="col-12">
        <?php $element = $form->get('email'); ?>
        <div class="form-floating">
            <?= $this->formElement($element) ?>
            <?= $this->formLabel($element) ?>
        </div>
        <div class="invalid-feedback d-none"
             id="email-error-recover"></div>
    </div>
    <div class="col-12">
        <?php $element = $form->get('submit'); ?>
        <?= $this->formSubmit($element) ?>
    </div>
    <?= $this->form()->closeTag() ?>

    <div class="row gy-2">
        <div class="col-12">
            <span>Вспомнили пароль?</span>
            <button class="p-0 border-0 bg-transparent text-primary login-show">Войти</button>
        </div>
    </div>
</div>
